"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/leaderboard/route";
exports.ids = ["app/api/leaderboard/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleaderboard%2Froute&page=%2Fapi%2Fleaderboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleaderboard%2Froute.ts&appDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleaderboard%2Froute&page=%2Fapi%2Fleaderboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleaderboard%2Froute.ts&appDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_artosetrov_Documents_Cursor_AI_BumWars_app_api_leaderboard_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/leaderboard/route.ts */ \"(rsc)/./app/api/leaderboard/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/leaderboard/route\",\n        pathname: \"/api/leaderboard\",\n        filename: \"route\",\n        bundlePath: \"app/api/leaderboard/route\"\n    },\n    resolvedPagePath: \"/Users/artosetrov/Documents/Cursor AI/BumWars/app/api/leaderboard/route.ts\",\n    nextConfigOutput,\n    userland: _Users_artosetrov_Documents_Cursor_AI_BumWars_app_api_leaderboard_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/leaderboard/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZsZWFkZXJib2FyZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbGVhZGVyYm9hcmQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZsZWFkZXJib2FyZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFydG9zZXRyb3YlMkZEb2N1bWVudHMlMkZDdXJzb3IlMjBBSSUyRkJ1bVdhcnMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYXJ0b3NldHJvdiUyRkRvY3VtZW50cyUyRkN1cnNvciUyMEFJJTJGQnVtV2FycyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcm9uLWZpc3QtYXJlbmEvPzQ1NDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2FydG9zZXRyb3YvRG9jdW1lbnRzL0N1cnNvciBBSS9CdW1XYXJzL2FwcC9hcGkvbGVhZGVyYm9hcmQvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2xlYWRlcmJvYXJkL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbGVhZGVyYm9hcmRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2xlYWRlcmJvYXJkL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FydG9zZXRyb3YvRG9jdW1lbnRzL0N1cnNvciBBSS9CdW1XYXJzL2FwcC9hcGkvbGVhZGVyYm9hcmQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2xlYWRlcmJvYXJkL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleaderboard%2Froute&page=%2Fapi%2Fleaderboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleaderboard%2Froute.ts&appDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/leaderboard/route.ts":
/*!**************************************!*\
  !*** ./app/api/leaderboard/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db_season__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db/season */ \"(rsc)/./lib/db/season.ts\");\n\n\n\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const limit = Math.min(100, Math.max(1, parseInt(searchParams.get(\"limit\") ?? \"20\", 10)));\n    const season = searchParams.get(\"season\");\n    const seasonNumber = season ? parseInt(season, 10) : await (0,_lib_db_season__WEBPACK_IMPORTED_MODULE_2__.getCurrentSeasonNumber)();\n    const characters = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.character.findMany({\n        take: limit,\n        orderBy: {\n            pvpRating: \"desc\"\n        },\n        select: {\n            id: true,\n            characterName: true,\n            class: true,\n            level: true,\n            pvpRating: true,\n            pvpWins: true,\n            pvpLosses: true,\n            highestPvpRank: true\n        }\n    });\n    const withRank = characters.map((c, i)=>({\n            rank: i + 1,\n            ...c\n        }));\n    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n        season: seasonNumber,\n        leaderboard: withRank\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2xlYWRlcmJvYXJkL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0M7QUFDUztBQUNjO0FBRWxELGVBQWVHLElBQUlDLE9BQWdCO0lBQ3hDLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztJQUM1QyxNQUFNQyxRQUFRQyxLQUFLQyxHQUFHLENBQUMsS0FBS0QsS0FBS0UsR0FBRyxDQUFDLEdBQUdDLFNBQVNQLGFBQWFRLEdBQUcsQ0FBQyxZQUFZLE1BQU07SUFDcEYsTUFBTUMsU0FBU1QsYUFBYVEsR0FBRyxDQUFDO0lBRWhDLE1BQU1FLGVBQWVELFNBQVNGLFNBQVNFLFFBQVEsTUFBTSxNQUFNWixzRUFBc0JBO0lBRWpGLE1BQU1jLGFBQWEsTUFBTWhCLDJDQUFNQSxDQUFDaUIsU0FBUyxDQUFDQyxRQUFRLENBQUM7UUFDakRDLE1BQU1YO1FBQ05ZLFNBQVM7WUFBRUMsV0FBVztRQUFPO1FBQzdCQyxRQUFRO1lBQ05DLElBQUk7WUFDSkMsZUFBZTtZQUNmQyxPQUFPO1lBQ1BDLE9BQU87WUFDUEwsV0FBVztZQUNYTSxTQUFTO1lBQ1RDLFdBQVc7WUFDWEMsZ0JBQWdCO1FBQ2xCO0lBQ0Y7SUFFQSxNQUFNQyxXQUFXZCxXQUFXZSxHQUFHLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTztZQUN6Q0MsTUFBTUQsSUFBSTtZQUNWLEdBQUdELENBQUM7UUFDTjtJQUVBLE9BQU8vQixxREFBWUEsQ0FBQ2tDLElBQUksQ0FBQztRQUN2QnJCLFFBQVFDO1FBQ1JxQixhQUFhTjtJQUNmO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcm9uLWZpc3QtYXJlbmEvLi9hcHAvYXBpL2xlYWRlcmJvYXJkL3JvdXRlLnRzPzVhZDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL2RiXCI7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRTZWFzb25OdW1iZXIgfSBmcm9tIFwiQC9saWIvZGIvc2Vhc29uXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogUmVxdWVzdCkge1xuICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgxLCBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KFwibGltaXRcIikgPz8gXCIyMFwiLCAxMCkpKTtcbiAgY29uc3Qgc2Vhc29uID0gc2VhcmNoUGFyYW1zLmdldChcInNlYXNvblwiKTtcblxuICBjb25zdCBzZWFzb25OdW1iZXIgPSBzZWFzb24gPyBwYXJzZUludChzZWFzb24sIDEwKSA6IGF3YWl0IGdldEN1cnJlbnRTZWFzb25OdW1iZXIoKTtcblxuICBjb25zdCBjaGFyYWN0ZXJzID0gYXdhaXQgcHJpc21hLmNoYXJhY3Rlci5maW5kTWFueSh7XG4gICAgdGFrZTogbGltaXQsXG4gICAgb3JkZXJCeTogeyBwdnBSYXRpbmc6IFwiZGVzY1wiIH0sXG4gICAgc2VsZWN0OiB7XG4gICAgICBpZDogdHJ1ZSxcbiAgICAgIGNoYXJhY3Rlck5hbWU6IHRydWUsXG4gICAgICBjbGFzczogdHJ1ZSxcbiAgICAgIGxldmVsOiB0cnVlLFxuICAgICAgcHZwUmF0aW5nOiB0cnVlLFxuICAgICAgcHZwV2luczogdHJ1ZSxcbiAgICAgIHB2cExvc3NlczogdHJ1ZSxcbiAgICAgIGhpZ2hlc3RQdnBSYW5rOiB0cnVlLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHdpdGhSYW5rID0gY2hhcmFjdGVycy5tYXAoKGMsIGkpID0+ICh7XG4gICAgcmFuazogaSArIDEsXG4gICAgLi4uYyxcbiAgfSkpO1xuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgc2Vhc29uOiBzZWFzb25OdW1iZXIsXG4gICAgbGVhZGVyYm9hcmQ6IHdpdGhSYW5rLFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJOZXh0UmVzcG9uc2UiLCJnZXRDdXJyZW50U2Vhc29uTnVtYmVyIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImxpbWl0IiwiTWF0aCIsIm1pbiIsIm1heCIsInBhcnNlSW50IiwiZ2V0Iiwic2Vhc29uIiwic2Vhc29uTnVtYmVyIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlciIsImZpbmRNYW55IiwidGFrZSIsIm9yZGVyQnkiLCJwdnBSYXRpbmciLCJzZWxlY3QiLCJpZCIsImNoYXJhY3Rlck5hbWUiLCJjbGFzcyIsImxldmVsIiwicHZwV2lucyIsInB2cExvc3NlcyIsImhpZ2hlc3RQdnBSYW5rIiwid2l0aFJhbmsiLCJtYXAiLCJjIiwiaSIsInJhbmsiLCJqc29uIiwibGVhZGVyYm9hcmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/leaderboard/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGtCQUFrQkM7QUFFakIsTUFBTUMsU0FDWEYsZ0JBQWdCRSxNQUFNLElBQ3RCLElBQUlILHdEQUFZQSxDQUFDO0lBQ2ZJLEtBQUtDLEtBQXNDLEdBQUc7UUFBQztRQUFTO1FBQVM7S0FBTyxHQUFHLENBQVM7QUFDdEYsR0FBRztBQUVMLElBQUlBLElBQXFDLEVBQUVKLGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2lyb24tZmlzdC1hcmVuYS8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/P1xuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIgPyBbXCJxdWVyeVwiLCBcImVycm9yXCIsIFwid2FyblwiXSA6IFtcImVycm9yXCJdLFxuICB9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/season.ts":
/*!**************************!*\
  !*** ./lib/db/season.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentSeasonNumber: () => (/* binding */ getCurrentSeasonNumber),\n/* harmony export */   getOrCreateCurrentSeason: () => (/* binding */ getOrCreateCurrentSeason)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\nconst DEFAULT_SEASON_NUMBER = 1;\nconst getOrCreateCurrentSeason = async ()=>{\n    const now = new Date();\n    let season = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.season.findFirst({\n        where: {\n            startAt: {\n                lte: now\n            },\n            endAt: {\n                gte: now\n            }\n        },\n        orderBy: {\n            number: \"desc\"\n        }\n    });\n    if (season) return {\n        number: season.number\n    };\n    season = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.season.findFirst({\n        orderBy: {\n            number: \"desc\"\n        }\n    });\n    const nextNum = season ? season.number + 1 : DEFAULT_SEASON_NUMBER;\n    const start = new Date(now);\n    start.setDate(1);\n    start.setHours(0, 0, 0, 0);\n    const end = new Date(start);\n    end.setMonth(end.getMonth() + 1);\n    await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.season.create({\n        data: {\n            number: nextNum,\n            startAt: start,\n            endAt: end,\n            theme: \"Proving Grounds\"\n        }\n    });\n    return {\n        number: nextNum\n    };\n};\nconst getCurrentSeasonNumber = async ()=>{\n    const { number } = await getOrCreateCurrentSeason();\n    return number;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvc2Vhc29uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrQztBQUVsQyxNQUFNQyx3QkFBd0I7QUFFdkIsTUFBTUMsMkJBQTJCO0lBQ3RDLE1BQU1DLE1BQU0sSUFBSUM7SUFDaEIsSUFBSUMsU0FBUyxNQUFNTCwyQ0FBTUEsQ0FBQ0ssTUFBTSxDQUFDQyxTQUFTLENBQUM7UUFDekNDLE9BQU87WUFBRUMsU0FBUztnQkFBRUMsS0FBS047WUFBSTtZQUFHTyxPQUFPO2dCQUFFQyxLQUFLUjtZQUFJO1FBQUU7UUFDcERTLFNBQVM7WUFBRUMsUUFBUTtRQUFPO0lBQzVCO0lBQ0EsSUFBSVIsUUFBUSxPQUFPO1FBQUVRLFFBQVFSLE9BQU9RLE1BQU07SUFBQztJQUMzQ1IsU0FBUyxNQUFNTCwyQ0FBTUEsQ0FBQ0ssTUFBTSxDQUFDQyxTQUFTLENBQUM7UUFDckNNLFNBQVM7WUFBRUMsUUFBUTtRQUFPO0lBQzVCO0lBQ0EsTUFBTUMsVUFBVVQsU0FBU0EsT0FBT1EsTUFBTSxHQUFHLElBQUlaO0lBQzdDLE1BQU1jLFFBQVEsSUFBSVgsS0FBS0Q7SUFDdkJZLE1BQU1DLE9BQU8sQ0FBQztJQUNkRCxNQUFNRSxRQUFRLENBQUMsR0FBRyxHQUFHLEdBQUc7SUFDeEIsTUFBTUMsTUFBTSxJQUFJZCxLQUFLVztJQUNyQkcsSUFBSUMsUUFBUSxDQUFDRCxJQUFJRSxRQUFRLEtBQUs7SUFDOUIsTUFBTXBCLDJDQUFNQSxDQUFDSyxNQUFNLENBQUNnQixNQUFNLENBQUM7UUFDekJDLE1BQU07WUFBRVQsUUFBUUM7WUFBU04sU0FBU087WUFBT0wsT0FBT1E7WUFBS0ssT0FBTztRQUFrQjtJQUNoRjtJQUNBLE9BQU87UUFBRVYsUUFBUUM7SUFBUTtBQUMzQixFQUFFO0FBRUssTUFBTVUseUJBQXlCO0lBQ3BDLE1BQU0sRUFBRVgsTUFBTSxFQUFFLEdBQUcsTUFBTVg7SUFDekIsT0FBT1c7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXJvbi1maXN0LWFyZW5hLy4vbGliL2RiL3NlYXNvbi50cz82ZDYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9kYlwiO1xuXG5jb25zdCBERUZBVUxUX1NFQVNPTl9OVU1CRVIgPSAxO1xuXG5leHBvcnQgY29uc3QgZ2V0T3JDcmVhdGVDdXJyZW50U2Vhc29uID0gYXN5bmMgKCk6IFByb21pc2U8eyBudW1iZXI6IG51bWJlciB9PiA9PiB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGxldCBzZWFzb24gPSBhd2FpdCBwcmlzbWEuc2Vhc29uLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgc3RhcnRBdDogeyBsdGU6IG5vdyB9LCBlbmRBdDogeyBndGU6IG5vdyB9IH0sXG4gICAgb3JkZXJCeTogeyBudW1iZXI6IFwiZGVzY1wiIH0sXG4gIH0pO1xuICBpZiAoc2Vhc29uKSByZXR1cm4geyBudW1iZXI6IHNlYXNvbi5udW1iZXIgfTtcbiAgc2Vhc29uID0gYXdhaXQgcHJpc21hLnNlYXNvbi5maW5kRmlyc3Qoe1xuICAgIG9yZGVyQnk6IHsgbnVtYmVyOiBcImRlc2NcIiB9LFxuICB9KTtcbiAgY29uc3QgbmV4dE51bSA9IHNlYXNvbiA/IHNlYXNvbi5udW1iZXIgKyAxIDogREVGQVVMVF9TRUFTT05fTlVNQkVSO1xuICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKG5vdyk7XG4gIHN0YXJ0LnNldERhdGUoMSk7XG4gIHN0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBlbmQgPSBuZXcgRGF0ZShzdGFydCk7XG4gIGVuZC5zZXRNb250aChlbmQuZ2V0TW9udGgoKSArIDEpO1xuICBhd2FpdCBwcmlzbWEuc2Vhc29uLmNyZWF0ZSh7XG4gICAgZGF0YTogeyBudW1iZXI6IG5leHROdW0sIHN0YXJ0QXQ6IHN0YXJ0LCBlbmRBdDogZW5kLCB0aGVtZTogXCJQcm92aW5nIEdyb3VuZHNcIiB9LFxuICB9KTtcbiAgcmV0dXJuIHsgbnVtYmVyOiBuZXh0TnVtIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFNlYXNvbk51bWJlciA9IGFzeW5jICgpOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICBjb25zdCB7IG51bWJlciB9ID0gYXdhaXQgZ2V0T3JDcmVhdGVDdXJyZW50U2Vhc29uKCk7XG4gIHJldHVybiBudW1iZXI7XG59O1xuIl0sIm5hbWVzIjpbInByaXNtYSIsIkRFRkFVTFRfU0VBU09OX05VTUJFUiIsImdldE9yQ3JlYXRlQ3VycmVudFNlYXNvbiIsIm5vdyIsIkRhdGUiLCJzZWFzb24iLCJmaW5kRmlyc3QiLCJ3aGVyZSIsInN0YXJ0QXQiLCJsdGUiLCJlbmRBdCIsImd0ZSIsIm9yZGVyQnkiLCJudW1iZXIiLCJuZXh0TnVtIiwic3RhcnQiLCJzZXREYXRlIiwic2V0SG91cnMiLCJlbmQiLCJzZXRNb250aCIsImdldE1vbnRoIiwiY3JlYXRlIiwiZGF0YSIsInRoZW1lIiwiZ2V0Q3VycmVudFNlYXNvbk51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/season.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleaderboard%2Froute&page=%2Fapi%2Fleaderboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleaderboard%2Froute.ts&appDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fartosetrov%2FDocuments%2FCursor%20AI%2FBumWars&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();